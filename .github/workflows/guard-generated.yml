name: guard-generated
on: [push, pull_request]
jobs:
  guard-generated:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        with: { fetch-depth: 0 }
      - name: Vérifier que rien de généré n’est suivi
        run: |
          git ls-files | grep -E '^(zz-out|\.ci-out|_tmp-figs|\.ci-logs)/' && {
            echo "❌ Des fichiers générés sont suivis"; exit 1; } || echo "✅ OK"
