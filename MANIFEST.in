# SAFE MANIFEST.in — conservateur
# Inclure le paquet + fichiers racine utiles ; exclure envs/caches/artefacts bruyants.

# ---- Inclus usuels (si présents) ----
include README* LICENSE* COPYING* CITATION.cff pyproject.toml setup.cfg

# ---- Répertoires bruyants (pas utiles au sdist) ----
prune .git
prune .venv*
prune venv*
prune _tmp
prune _archives_preclean
prune _logs
prune _snapshots
prune legacy-tex
prune zz-figures
prune zz-data
prune build
prune dist

# ---- Caches & bytecode ----
recursive-exclude * __pycache__ *
recursive-exclude * .pytest_cache *
recursive-exclude * .mypy_cache *
recursive-exclude * .ruff_cache *
global-exclude *.pyc *.pyo *.pyd

# ---- Exclusions ciblées (spécifiques projet) ----
exclude .diag_last_failed.json
exclude requirements-prepub.txt
exclude step-01-candidates.txt
exclude zz-scripts/chapter09/run_fig01_nowarn.sh
exclude make/smoke.mk

# ---- Défense en profondeur (artefacts génériques) ----
global-exclude *.log *.tmp *.bak *.swp *~ ._* Thumbs.db .DS_Store
# (Optionnel si tu veux un sdist purement source) :
# global-exclude *.so *.dll *.dylib
