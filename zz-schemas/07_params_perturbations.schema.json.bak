{
"\$schema": "[https://json-schema.org/draft/2020-12/schema](https://json-schema.org/draft/2020-12/schema)",
"\$id": "zz-schemas/07\_perturbations\_parameters.schema.json",
"title": "Chapter 07 — Perturbations parameters",
"description": "Schéma validant les paramètres numériques et pipeline utilisés au Chapitre 7 (perturbations scalaires). Fichier cible: 07\_params\_perturbations.json.",
"type": "object",
"properties": {
"generated\_at": { "type": "string", "format": "date-time", "description": "Horodatage ISO (optionnel)." },
"producer\_script": { "type": "string", "description": "Script producteur (relatif, optionnel)." },
"git\_hash": { "anyOf": \[{ "type": "string", "minLength": 7 }, { "type": "null" }], "description": "Commit (optionnel)." },

```
"cs2_param": { "type": "number", "description": "Valeur représentative pour c_s^2." },
"delta_phi_param": { "type": "number", "description": "Amplitude représentative pour δφ." },

"k_min": { "type": "number", "minimum": 0, "description": "k minimal." },
"k_max": { "type": "number", "exclusiveMinimum": 0, "description": "k maximal (>0)." },
"dlog": { "type": "number", "minimum": 0, "description": "Pas logarithmique en k (d log k)." },
"n_k": { "type": "integer", "minimum": 1, "description": "Nombre de points en k." },

"a_min": { "type": "number", "minimum": 0, "maximum": 1, "description": "Facteur d’échelle minimal." },
"a_max": { "type": "number", "minimum": 0, "maximum": 1, "description": "Facteur d’échelle maximal." },
"n_a": { "type": "integer", "minimum": 1, "description": "Nombre de points en a." },

"derivative_window": {
  "type": "integer",
  "minimum": 3,
  "description": "Fenêtre Savitzky–Golay (entier impair recommandé).",
  "not": { "multipleOf": 2 }
},
"derivative_polyorder": { "type": "integer", "minimum": 1, "description": "Ordre polynomial Savitzky–Golay." },

"thresholds": {
  "type": "object",
  "description": "Seuils pour classifier primary/order2.",
  "properties": {
    "primary": { "type": "number", "minimum": 0 },
    "order2": { "type": "number", "minimum": 0 }
  },
  "required": ["primary", "order2"],
  "additionalProperties": false
},

"x_split": { "type": "number", "description": "Valeur de split (séparation de régimes)." },
"k0": { "type": "number", "description": "Vague nombre de référence k0." },
"alpha": { "type": "number", "description": "Paramètre de modèle (chapitre)." },

"max_epsilon_primary_cs2": { "type": "number", "minimum": 0 },
"max_epsilon_order2_cs2": { "type": "number", "minimum": 0 },
"max_epsilon_primary_phi": { "type": "number", "minimum": 0 },
"max_epsilon_order2_phi": { "type": "number", "minimum": 0 },

"segments": {
  "type": "object",
  "description": "Segmentation optionnelle de la grille.",
  "properties": {
    "low": {
      "type": "object",
      "properties": {
        "k_max": { "type": "number" },
        "n_points": { "type": "integer", "minimum": 1 }
      },
      "required": ["n_points"],
      "additionalProperties": false
    },
    "high": {
      "type": "object",
      "properties": {
        "k_min": { "type": "number" },
        "n_points": { "type": "integer", "minimum": 1 }
      },
      "required": ["n_points"],
      "additionalProperties": false
    }
  },
  "additionalProperties": false
},

"metric_window_Hz": {
  "type": "array",
  "description": "Fenêtre de fréquences pour les métriques (ex. [20, 300]).",
  "items": { "type": "number", "minimum": 0 },
  "minItems": 2,
  "maxItems": 2
},

"notes": { "type": "string", "description": "Notes opérateur (optionnel)." }
```

},

"required": \[
"cs2\_param",
"delta\_phi\_param",
"k\_min",
"k\_max",
"dlog",
"n\_k",
"a\_min",
"a\_max",
"n\_a",
"derivative\_window",
"derivative\_polyorder",
"thresholds",
"x\_split",
"k0",
"alpha"
],

"additionalProperties": false,

"examples": \[
{
"generated\_at": "2025-08-23T12:00:00Z",
"producer\_script": "zz-scripts/chapter7/generate\_chapter7\_data.py",
"git\_hash": "abcdef1",
"cs2\_param": 1.0,
"delta\_phi\_param": 0.05,
"k\_min": 0.0001,
"k\_max": 10.0,
"dlog": 0.01,
"n\_k": 501,
"a\_min": 0.05,
"a\_max": 1.0,
"n\_a": 20,
"derivative\_window": 7,
"derivative\_polyorder": 3,
"thresholds": { "primary": 0.01, "order2": 0.1 },
"x\_split": 0.02,
"k0": 0.1,
"alpha": 0.5,
"max\_epsilon\_primary\_cs2": 8.5761001246317,
"max\_epsilon\_order2\_cs2": 0.0,
"max\_epsilon\_primary\_phi": 0.0,
"max\_epsilon\_order2\_phi": 0.0,
"segments": { "low": { "k\_max": 0.01995, "n\_points": 231 }, "high": { "k\_min": 0.02042, "n\_points": 270 } },
"metric\_window\_Hz": \[20, 300],
"notes": "Ajuster la fenêtre SavGol si oscillations numériques."
}
]
}
