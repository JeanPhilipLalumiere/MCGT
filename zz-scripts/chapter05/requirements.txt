# Exigences pour le Chapitre 5 (Nucléosynthèse primordiale)

1. **Environnement système**
   * Système : Ubuntu 20.04 (WSL ou natif) ou équivalent Linux  
   * Espace disque : ≥ 500 Mo libre  

2. **Environnement Python**
   * Python ≥ 3.9  
   * Créer et activer un environnement virtuel spécifique :
     ```
     cd ~/MCGT
     python3 -m venv venv5
     source venv5/bin/activate
     ```
   * Installer les dépendances :
     ```
     pip install --upgrade pip
     pip install numpy pandas scipy matplotlib
     ```

3. **Données brutes & scripts d’extraction**
   * **Jalons BBN**  
     – Fichier cible : `zz-data/chapter05/05_nucleosynthesis_milestones.csv`  
     – Extraction depuis sources Observations D/H & Yₚ via :  
       `zz-scripts/chapter05/utils/extract_bbn_milestones.py`  
   * **χ² vs T**  
     – Fichier cible : `zz-data/chapter05/05_chi2_nucleosynthesis_vs_T.csv`  
     – Calcul / export par :  
       `zz-scripts/chapter05/utils/extract_chi2_nucleosynthesis.py`

4. **Structure du dépôt**
````

MCGT/
├─ 05-primordial-nucleosynthesis/    # sources LaTeX, GUIDE
├─ zz-data/chapter05/             # CSV & JSON bruts et produits
├─ zz-scripts/chapter05/             # generate\_*.py, tracer\_*.py
│   └─ utils/                        # extract\_\*.py
├─ zz-figures/chapter05/             # PNG produits
└─ venv5/                            # environnement virtuel Python

````

5. **Exécution du pipeline**
   1. Génération des données :
      ```bash
      source venv5/bin/activate
      python zz-scripts/chapter05/generate_data_chapter05.py \
        [--export-derivative]
      ```
   2. Tracé des figures :
      ```bash
      python zz-scripts/chapter05/tracer_fig01_bbn_reaction_schema.py
      python zz-scripts/chapter05/tracer_fig02_dh_model_vs_obs.py
      python zz-scripts/chapter05/tracer_fig03_yp_model_vs_obs.py
      python zz-scripts/chapter05/tracer_fig04_chi2_vs_T.py
      ```

6. **Compilation LaTeX**
   ```bash
   cd 05-primordial-nucleosynthesis/
   pdflatex -interaction=nonstopmode 05_primordial_nucleosynthesis_conceptual.tex
   pdflatex -interaction=nonstopmode 05_primordial_nucleosynthesis_details.tex
````

7. **Tests & validations**

   * Vérifier l’existence et la non-nullité des fichiers dans `zz-data/chapter05/` :

     ```
     05_nucleosynthesis_milestones.csv
     05_chi2_nucleosynthesis_vs_T.csv
     05_dchi2_vs_T.csv
     05_nucleosynthesis_grid.csv
     05_nucleosynthesis_data.csv
     05_nucleosynthesis_params.json
     ```
   * S’assurer qu’il n’y a pas de `NaN` ni `Inf` dans les CSV
   * `max_epsilon_primary` < 0.01 et `max_epsilon_order2` < 0.10 dans `05_nucleosynthesis_params.json`
   * Ouvrir chaque figure PNG dans `zz-figures/chapter05/` pour un contrôle visuel

